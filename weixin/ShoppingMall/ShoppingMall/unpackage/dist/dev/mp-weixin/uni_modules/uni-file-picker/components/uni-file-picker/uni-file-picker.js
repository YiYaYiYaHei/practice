(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker"],{331:
/*!****************************************************************************************************************!*\
  !*** D:/webBC/Aweixin/ShoppingMall/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue ***!
  \****************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var i=n(/*! ./uni-file-picker.vue?vue&type=template&id=363ace0e& */332),r=n(/*! ./uni-file-picker.vue?vue&type=script&lang=js& */334);for(var s in r)"default"!==s&&function(e){n.d(t,e,(function(){return r[e]}))}(s);n(/*! ./uni-file-picker.vue?vue&type=style&index=0&lang=css& */342);var u,l=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),a=Object(l["default"])(r["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],u);a.options.__file="uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue",t["default"]=a.exports},332:
/*!***********************************************************************************************************************************************!*\
  !*** D:/webBC/Aweixin/ShoppingMall/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue?vue&type=template&id=363ace0e& ***!
  \***********************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var i=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-file-picker.vue?vue&type=template&id=363ace0e& */333);n.d(t,"render",(function(){return i["render"]})),n.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(t,"components",(function(){return i["components"]}))},333:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/webBC/Aweixin/ShoppingMall/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue?vue&type=template&id=363ace0e& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var i;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return u})),n.d(t,"recyclableRender",(function(){return s})),n.d(t,"components",(function(){return i}));var r=function(){var e=this,t=e.$createElement;e._self._c},s=!1,u=[];r._withStripped=!0},334:
/*!*****************************************************************************************************************************************!*\
  !*** D:/webBC/Aweixin/ShoppingMall/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var i=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-file-picker.vue?vue&type=script&lang=js& */335),r=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=r.a},335:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/webBC/Aweixin/ShoppingMall/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(/*! ./node_modules/@babel/runtime/regenerator */24)),s=n(/*! ./choose-and-upload-file.js */341);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,i,r,s,u){try{var l=e[s](u),a=l.value}catch(o){return void n(o)}l.done?t(a):Promise.resolve(a).then(i,r)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function u(e){l(s,i,r,u,a,"next",e)}function a(e){l(s,i,r,u,a,"throw",e)}u(void 0)}))}}var o=function(){n.e(/*! require.ensure | uni_modules/uni-file-picker/components/uni-file-picker/upload-image */"uni_modules/uni-file-picker/components/uni-file-picker/upload-image").then(function(){return resolve(n(/*! ./upload-image.vue */364))}.bind(null,n)).catch(n.oe)},c=function(){n.e(/*! require.ensure | uni_modules/uni-file-picker/components/uni-file-picker/upload-file */"uni_modules/uni-file-picker/components/uni-file-picker/upload-file").then(function(){return resolve(n(/*! ./upload-file.vue */371))}.bind(null,n)).catch(n.oe)},f={name:"uniFilePicker",components:{uploadImage:o,uploadFile:c},props:{value:{type:[Array,Object],default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},delIcon:{type:Boolean,default:!0},autoUpload:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},mode:{type:String,default:"grid"},fileMediatype:{type:String,default:"image"},fileExtname:{type:[Array,String],default:function(){return[]}},title:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto"}}},readonly:{type:Boolean,default:!1},returnType:{type:String,default:"array"}},watch:{value:{handler:function(e){var t=this,n=[],i=[].concat(e||[]);i.forEach((function(e){var i=t.files.find((function(t){return t.url===e.url})),r=/cloud:\/\/([\w.]+\/?)\S*/;e.path||(e.path=e.url),r.test(e.url)&&t.getTempFileURL(e,e.url),n.push(i||e)})),this.files=n},immediate:!0}},data:function(){return{files:[]}},computed:{filesList:function(){var e=[];return this.files.forEach((function(t){e.push(t)})),e},showType:function(){return"image"===this.fileMediatype?this.mode:"list"},limitLength:function(){return"object"===this.returnType?1:this.limit?this.limit>=9?9:this.limit:1},extname:function(){if(Array.isArray(this.fileExtname))return this.fileExtname;var e=this.fileExtname.replace(/(\[|\])/g,"");return e.split(",")}},created:function(){this.tempData={}},methods:{upload:function(){var e=[];this.files.forEach((function(t,n){"ready"!==t.status&&"error"!==t.status||e.push(Object.assign({},t))})),this.uploadFiles(e)},choose:function(){this.disabled||(this.files.length>=Number(this.limitLength)&&"grid"!==this.showType&&"array"===this.returnType?e.showToast({title:"您最多选择 ".concat(this.limitLength," 个文件"),icon:"none"}):this.chooseFiles())},chooseFiles:function(){var t=this;i.chooseAndUploadFile||(i.chooseAndUploadFile=s.chooseAndUploadFile),i.chooseAndUploadFile({type:this.fileMediatype,compressed:!1,extension:this.extname.length>0?this.extname:void 0,count:this.limitLength-this.files.length,onChooseFile:function(){var n=a(r.default.mark((function n(i){var s,u,l,a,o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:(1===Number(t.limitLength)&&t.disablePreview&&!t.disabled||"object"===t.returnType)&&(t.files=[]),s=[],u=[],t.extname&&t.extname.length>0?(i.tempFiles.forEach((function(e){var n=t.getFileExt(e.name),i=n.ext.toLowerCase();-1!==t.extname.indexOf(i)&&(u.push(e),s.push(e.path))})),u.length!==i.tempFiles.length&&e.showToast({title:"当前选择了".concat(i.tempFiles.length,"个文件 ，").concat(i.tempFiles.length-u.length," 个文件格式不正确"),icon:"none",duration:5e3})):(s=i.tempFilePaths,u=i.tempFiles),l=[],a=0;case 6:if(!(a<u.length)){n.next=20;break}if(!(t.limitLength-t.files.length<=0)){n.next=9;break}return n.abrupt("break",20);case 9:return u[a].uuid=Date.now(),n.next=12,t.getFileData(u[a],t.fileMediatype);case 12:o=n.sent,o.progress=0,o.status="ready",t.files.push(o),l.push(o);case 17:a++,n.next=6;break;case 20:t.$emit("select",{tempFiles:l,tempFilePaths:s}),i.tempFiles=u,t.autoUpload||(i.tempFiles=[]);case 23:case"end":return n.stop()}}),n)})));function i(e){return n.apply(this,arguments)}return i}(),onUploadProgress:function(e){t.setProgress(e,e.index)}}).then((function(e){t.setSuccessAndError(e.tempFiles)})).catch((function(e){console.log("选择失败",e)}))},uploadFiles:function(e){var t=this;e=[].concat(e),this.uploadCloudFiles(e,5,(function(e){t.setProgress(e,e.index,!0)})).then((function(e){t.setSuccessAndError(e)})).catch((function(e){console.log("err",e)}))},setSuccessAndError:function(e,t){var n=this;return a(r.default.mark((function t(){var i,s,u,l,a,o,c;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=[],s=[],u=[],l=[],a=function(t){var r=e[t],a=r.uuid?n.files.findIndex((function(e){return e.uuid===r.uuid})):r.index;if(-1===a||!n.files)return"break";"request:fail"===r.errMsg?(n.files[a].url=r.path,n.files[a].status="error",n.files[a].errMsg=r.errMsg,n.files[a].progress=-1,s.push(n.files[a]),l.push(n.files[a].url)):(n.files[a].errMsg="",n.files[a].url=r.url,n.files[a].status="success",i.push(n.files[a]),u.push(n.files[a].url))},o=0;case 6:if(!(o<e.length)){t.next=13;break}if(c=a(o),"break"!==c){t.next=10;break}return t.abrupt("break",13);case 10:o++,t.next=6;break;case 13:i.length>0&&(n.setEmit(),n.$emit("success",{tempFiles:n.backObject(i),tempFilePaths:u})),s.length>0&&n.$emit("fail",{tempFiles:n.backObject(s),tempFilePaths:l});case 15:case"end":return t.stop()}}),t)})))()},setProgress:function(e,t,n){this.files.length;var i=Math.round(100*e.loaded/e.total),r=t;n||(r=this.files.findIndex((function(t){return t.uuid===e.tempFile.uuid}))),-1!==r&&this.files[r]&&(this.files[r].progress=i,this.$emit("progress",{index:r,progress:parseInt(i),tempFile:this.files[r]}))},delFile:function(e){this.$emit("delete",{tempFile:this.files[e],tempFilePath:this.files[e].url}),this.files.splice(e,1)},getFileExt:function(e){var t=e.lastIndexOf("."),n=e.length;return{name:e.substring(0,t),ext:e.substring(t+1,n)}},getFileInfo:function(t){return new Promise((function(n,i){e.getImageInfo({src:t,success:function(e){n(e)},fail:function(e){i(e)}})}))},getFileData:function(e){var t=arguments,n=this;return a(r.default.mark((function i(){var s,u,l,a,o;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=t.length>1&&void 0!==t[1]?t[1]:"image",u=n.getFileExt(e.name),l=u.ext.toLowerCase(),a={name:e.name,uuid:e.uuid,extname:l||"",cloudPath:e.cloudPath,fileType:e.fileType,url:e.path||e.path,size:e.size,image:{},path:e.path,video:{}},"image"!==s){i.next=11;break}return i.next=7,n.getFileInfo(e.path);case 7:o=i.sent,a.image.width=o.width,a.image.height=o.height,a.image.location=o.path;case 11:return i.abrupt("return",a);case 12:case"end":return i.stop()}}),i)})))()},uploadCloudFiles:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2?arguments[2]:void 0;e=JSON.parse(JSON.stringify(e));var r=e.length,s=0,u=this;return new Promise((function(l){while(s<t)a();function a(){var t=s++;if(t>=r)!e.find((function(e){return!e.url&&!e.errMsg}))&&l(e);else{var o=e[t],c=u.files.findIndex((function(e){return e.uuid===o.uuid}));o.url="",delete o.errMsg,i.uploadFile({filePath:o.path,cloudPath:o.cloudPath,fileType:o.fileType,onUploadProgress:function(e){e.index=c,n&&n(e)}}).then((function(e){o.url=e.fileID,o.index=c,t<r&&a()})).catch((function(e){o.errMsg=e.errMsg||e.message,o.index=c,t<r&&a()}))}}}))},setEmit:function(){var e=[];e="object"===this.returnType?this.backObject(this.files)[0]:this.backObject(this.files),this.$emit("input",e)},backObject:function(e){var t=JSON.parse(JSON.stringify(e));return t.map((function(e){return delete e.path,delete e.uuid,delete e.video,delete e.progress,delete e.errMsg,delete e.status,delete e.cloudPath,e})),t},getTempFileURL:function(e,t){var n=this;return a(r.default.mark((function s(){var u,l;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t={fileList:[].concat(t)},r.next=3,i.getTempFileURL(t);case 3:u=r.sent,e.path=u.fileList[0].tempFileURL||"",l=n.files.findIndex((function(t){return t.path===e.path})),-1!==l&&n.$set(n.files,l,e);case 7:case"end":return r.stop()}}),s)})))()}}};t.default=f}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"],n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js */336)["default"])},342:
/*!*************************************************************************************************************************************************!*\
  !*** D:/webBC/Aweixin/ShoppingMall/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var i=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-file-picker.vue?vue&type=style&index=0&lang=css& */343),r=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=r.a},343:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/webBC/Aweixin/ShoppingMall/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}}]);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker-create-component',
    {
        'uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(331))
        })
    },
    [['uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker-create-component']]
]);
